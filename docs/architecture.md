# Архитектура VoiceBlock

## Введение
VoiceBlock — это набор микросервисов для голосовой логистики, каждый из которых выполняет отдельную функцию и взаимодействует через HTTP API.

## Взаимодействие модулей

1. **call_handler** — точка входа, принимает звонок, инициирует цепочку обработки.
2. **stt** — преобразует аудио в текст.
3. **lang** — определяет язык текста.
4. **gpt** — генерирует текстовый ответ.
5. **tts** — преобразует текст в аудио.
6. **lead_sender** — сохраняет/отправляет заявку.
7. **logger** — логирует действия и ошибки.
8. **storage** — хранит аудио и логи.

### Пример цепочки:
1. call_handler получает звонок и аудиофайл
2. stt: аудио → текст
3. lang: определение языка
4. gpt: генерация ответа
5. tts: текст → аудио
6. lead_sender: сохраняет заявку
7. logger: логирует все этапы

## Схема (текстовая)

```
[call_handler] -> [stt] -> [lang] -> [gpt] -> [tts] -> [lead_sender]
                                 |
                             [logger]
                                 |
                             [storage]
```

## Масштабируемость
- Каждый модуль можно запускать независимо, масштабировать и обновлять без влияния на остальные.
- Взаимодействие только через HTTP API. 